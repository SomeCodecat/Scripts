# Configuration for backup_stacks.sh
# Copy this file to the install location and edit values as needed.
# Variables here override the script defaults. You can also set environment variables
# (for example via systemd or cron) to override these values.

# URL to your Portainer instance (include scheme and port if necessary)
PORTAINER_URL="https://portainer.example:9443"

# Portainer API key with permission to list stacks
PORTAINER_API_KEY="your_api_key_here"

# Directory where backups will be written. The script will create it if missing.
# Use an absolute path.
BACKUP_DIR="/opt/portainer_backups/backups"

# Name of the Docker volume where Portainer stores its data (the script mounts it read-only)
PORTAINER_VOLUME="portainer_data"

# Alpine image used to run a temporary container for file copy. You can pin a specific digest/tag.
ALPINE_IMAGE="alpine:3.19"

# Additional flags to pass to curl when contacting Portainer (e.g. --tlsv1.2)
#CURL_OPTS=""

# If you want timestamps appended to filenames, uncomment and use this pattern.
#TIMESTAMP_FMT="_%F" # e.g. _2025-10-23

# SIMPLE_MODE: when true, files are saved by stack id only (no human-readable name link).
# Set to true to save files like "stack_<ID>.yml" instead of "<stack-name>.yml".
SIMPLE_MODE="false"
# Prefix to use for simple filenames (e.g. stack_ -> stack_<ID>.yml)
SIMPLE_PREFIX="stack_"
